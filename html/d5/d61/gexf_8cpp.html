<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TriCl: src/gexf.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TriCl
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">gexf.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handling of gexf and gexf.gz temporal graph output files.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/dfb/global__variables_8h_source.html">global_variables.h</a>&quot;</code><br />
<code>#include &quot;gexf.h&quot;</code><br />
<code>#include &lt;boost/iostreams/filtering_streambuf.hpp&gt;</code><br />
<code>#include &lt;boost/iostreams/filter/gzip.hpp&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gexf.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d53/gexf_8cpp__incl.png" border="0" usemap="#src_2gexf_8cpp" alt=""/></div>
<map name="src_2gexf_8cpp" id="src_2gexf_8cpp">
<area shape="rect" id="node2" href="../../d5/dfb/global__variables_8h.html" title="Definition of global data storage. " alt="" coords="401,87,543,114"/>
<area shape="rect" id="node15" href="../../d6/ddc/gexf_8h_source.html" title="gexf.h" alt="" coords="567,87,630,114"/>
<area shape="rect" id="node3" href="../../d5/d44/data__model_8h.html" title="The main data model. " alt="" coords="479,169,590,196"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1c72a32278298aac6971e08a0124d55e"><td class="memItemLeft" align="right" valign="top"><a id="a1c72a32278298aac6971e08a0124d55e"></a>
ostream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/gexf_8cpp.html#a1c72a32278298aac6971e08a0124d55e">gexf</a> (NULL)</td></tr>
<tr class="memdesc:a1c72a32278298aac6971e08a0124d55e"><td class="mdescLeft">&#160;</td><td class="mdescRight">actual stream to write to <br /></td></tr>
<tr class="separator:a1c72a32278298aac6971e08a0124d55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9548b01298b60e87517c2f4d7a26b739"><td class="memItemLeft" align="right" valign="top">ostream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/gexf_8cpp.html#a9548b01298b60e87517c2f4d7a26b739">get_stream</a> (string fn, bool is_gz)</td></tr>
<tr class="separator:a9548b01298b60e87517c2f4d7a26b739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b36012007039d12a7b7ca4933f680b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/gexf_8cpp.html#ab4b36012007039d12a7b7ca4933f680b">init_gexf</a> ()</td></tr>
<tr class="memdesc:ab4b36012007039d12a7b7ca4933f680b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare gexf output.  <a href="#ab4b36012007039d12a7b7ca4933f680b">More...</a><br /></td></tr>
<tr class="separator:ab4b36012007039d12a7b7ca4933f680b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa68938dd72f31b9cf8525249a272240e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/gexf_8cpp.html#aa68938dd72f31b9cf8525249a272240e">gexf_output_edge</a> (<a class="el" href="../../da/de2/structtricl_1_1tricllink.html">tricl::tricllink</a> &amp;l)</td></tr>
<tr class="memdesc:aa68938dd72f31b9cf8525249a272240e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a single edge to the proper file.  <a href="#aa68938dd72f31b9cf8525249a272240e">More...</a><br /></td></tr>
<tr class="separator:aa68938dd72f31b9cf8525249a272240e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac63f0acb9d3c33e1847cd93d188a0e15"><td class="memItemLeft" align="right" valign="top"><a id="ac63f0acb9d3c33e1847cd93d188a0e15"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/gexf_8cpp.html#ac63f0acb9d3c33e1847cd93d188a0e15">finish_gexf</a> ()</td></tr>
<tr class="memdesc:ac63f0acb9d3c33e1847cd93d188a0e15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete and close all output files. <br /></td></tr>
<tr class="separator:ac63f0acb9d3c33e1847cd93d188a0e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6e5fdc0c22b628df18513b6554be48b1"><td class="memItemLeft" align="right" valign="top"><a id="a6e5fdc0c22b628df18513b6554be48b1"></a>
unordered_map&lt; string, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/gexf_8cpp.html#a6e5fdc0c22b628df18513b6554be48b1">gexf_is_gz</a></td></tr>
<tr class="memdesc:a6e5fdc0c22b628df18513b6554be48b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether an output file is gzip-compressed <br /></td></tr>
<tr class="separator:a6e5fdc0c22b628df18513b6554be48b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023bc66953de45c61693574c12a32ec3"><td class="memItemLeft" align="right" valign="top"><a id="a023bc66953de45c61693574c12a32ec3"></a>
unordered_map&lt; string, ofstream &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gexf_uncompressed</b></td></tr>
<tr class="separator:a023bc66953de45c61693574c12a32ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca8cc71916aad0a0b8e32654dc2bc70b"><td class="memItemLeft" align="right" valign="top"><a id="aca8cc71916aad0a0b8e32654dc2bc70b"></a>
unordered_map&lt; string, ofstream &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/gexf_8cpp.html#aca8cc71916aad0a0b8e32654dc2bc70b">gexf_compressed</a></td></tr>
<tr class="memdesc:aca8cc71916aad0a0b8e32654dc2bc70b"><td class="mdescLeft">&#160;</td><td class="mdescRight">streams for uncompressed and compressed output <br /></td></tr>
<tr class="separator:aca8cc71916aad0a0b8e32654dc2bc70b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8678a3a4e1c09f3b2777b20bb82b6d6"><td class="memItemLeft" align="right" valign="top"><a id="ac8678a3a4e1c09f3b2777b20bb82b6d6"></a>
unordered_map&lt; string, boost::iostreams::filtering_streambuf&lt; boost::iostreams::output &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/gexf_8cpp.html#ac8678a3a4e1c09f3b2777b20bb82b6d6">gexf_buf</a></td></tr>
<tr class="memdesc:ac8678a3a4e1c09f3b2777b20bb82b6d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">buffer for compressed output <br /></td></tr>
<tr class="separator:ac8678a3a4e1c09f3b2777b20bb82b6d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59df978dd1e630ab3fa0b9b58b02a39"><td class="memItemLeft" align="right" valign="top"><a id="ad59df978dd1e630ab3fa0b9b58b02a39"></a>
unordered_map&lt; <a class="el" href="../../da/de2/structtricl_1_1tricllink.html">tricl::tricllink</a>, <a class="el" href="../../dc/d70/namespacetricl.html#a720ff6a29f998e11e1d3622fc8df64b1">timepoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/gexf_8cpp.html#ad59df978dd1e630ab3fa0b9b58b02a39">gexf_edge2start</a> = {}</td></tr>
<tr class="memdesc:ad59df978dd1e630ab3fa0b9b58b02a39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time of establishment of edge. <br /></td></tr>
<tr class="separator:ad59df978dd1e630ab3fa0b9b58b02a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handling of gexf and gexf.gz temporal graph output files. </p>
<p>e.g. to be used by Gephi</p>
<p>In the gexf output files, each entity is represented by a node, and each time interval at which a link existed is represented by a directed edge whose id, start and end attributes encode the time interval. Symmetric relationships/actions are thus represented by two directed edges.</p>
<p>Depending on the analysis performed, edges might have to be "merged" to a single edge representing all time intervals of the link at once in Gephi. However, since gephi does not sufficiently support multiplex graphs, this merging will also merge links of different relationship or action type between the same source and target entities into one link.</p>
<p>By default, all relationship or action types go to the main output file, but via the config file, individual types can also be suppressed or redirected to other files. (Note that gephi allows uniting several files into one workspace.) </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9548b01298b60e87517c2f4d7a26b739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9548b01298b60e87517c2f4d7a26b739">&#9670;&nbsp;</a></span>get_stream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ostream* get_stream </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_gz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the stream to write to.</dd></dl>
<p>NOTE: for some reason this apparently cannot be stored permanently in a global variable between writes. </p>

</div>
</div>
<a id="aa68938dd72f31b9cf8525249a272240e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa68938dd72f31b9cf8525249a272240e">&#9670;&nbsp;</a></span>gexf_output_edge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gexf_output_edge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/de2/structtricl_1_1tricllink.html">tricl::tricllink</a> &amp;&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a single edge to the proper file. </p>
<p>The unique edge id is &lt;et1&gt;_&lt;rat13&gt;_&lt;et3&gt;_&lt;n_events&gt;. Start and end time are stored both in the "start"/"end" xml attributes so that gephi's timeline works properly, as well as in gexf "attributes" named "S"/"E" so that one can access them as global variables in gephi's python scripting plugin. </p>

</div>
</div>
<a id="ab4b36012007039d12a7b7ca4933f680b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4b36012007039d12a7b7ca4933f680b">&#9670;&nbsp;</a></span>init_gexf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_gexf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare gexf output. </p>
<p>Opens files, streams, buffers and outputs file headers with all entities. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
